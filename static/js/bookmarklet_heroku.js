javascript:(function(){%0Afunction getHTMLOfSelection () %7B%0A  var range%3B%0A  if (document.selection %26%26 document.selection.createRange) %7B%0A    range %3D document.selection.createRange()%3B%0A    return range.htmlText%3B%0A  %7D%0A  else if (window.getSelection) %7B%0A    var selection %3D window.getSelection()%3B%0A    if (selection.rangeCount > 0) %7B%0A      range %3D selection.getRangeAt(0)%3B%0A      var clonedSelection %3D range.cloneContents()%3B%0A      var div %3D document.createElement('div')%3B%0A      div.appendChild(clonedSelection)%3B%0A      return div.innerHTML%3B%0A    %7D%0A    else %7B%0A      return ''%3B%0A    %7D%0A  %7D%0A  else %7B%0A    return ''%3B%0A  %7D%0A%7D%0A%0Avar title %3D encodeURIComponent(document.title.substring(0%2C64))%2C%0A    pages %3D encodeURIComponent(prompt("Add to pages"))%2C%0A    source %3D encodeURIComponent(location.href)%2C%0A    extract %3D encodeURIComponent(getHTMLOfSelection())%3B%0Alocation.href %3D "http%3A%2F%2Fpkb.herokuapp.com%2Fimport%3Ftitle%3D"%2Btitle%2B"%26pages%3D"%2Bpages%2B"%26source%3D"%2Bsource%2B"%26extract%3D"%2Bextract%3B}());
